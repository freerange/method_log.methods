    def source_files
      commit = @repository.lookup(sha)
      source_files = []
      commit.tree.walk_blobs do |root, blob_hash|
        name = blob_hash[:name]
        next unless File.extname(name) == '.rb'
        path = root.empty? ? name : File.join(root, name)
        source = @repository.lookup(blob_hash[:oid]).text
        source_files << SourceFile.new(path: path, source: source)
      end
      source_files
    end