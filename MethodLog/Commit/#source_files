    def source_files
      Enumerator.new do |yielder|
        commit.tree.walk_blobs do |root, blob_hash|
          name = blob_hash[:name]
          next unless File.extname(name) == '.rb'
          path = root.empty? ? name : File.join(root, name)
          source = @repository.lookup(blob_hash[:oid]).text
          yielder << SourceFile.new(path: path, source: source)
        end
      end
    end