    def on_sclass(node)
      target_node = node.children.first
      case target_node.type
      when :self
        @scope = @scope.singleton
      when :const
        constants = process_const(target_node)
        scope = @scope
        constants.each do |c|
          scope = scope.lookup(c)
        end
        @scope = scope.singleton
      else
        raise
      end
      super
      @scope = @scope.parent
    end