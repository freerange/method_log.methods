    def on_module(node)
      const_node = node.children.first
      constants = process_const(const_node)
      new_constant = constants.pop
      scope = @scope
      constants.each do |c|
        scope = scope.lookup(c)
      end
      @scope = scope.define(new_constant)
      super
      @scope = @scope.parent
    end